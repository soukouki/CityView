name: cityview-workflows
prefect-version: 3.6.0

pull:
  - prefect.deployments.steps.set_working_directory:
      directory: /opt/prefect/flows

deployments:
  - name: create-tiles
    entrypoint: create_tiles_flow.py:create_tiles
    concurrency_limit:
      limit: 1
      collision_strategy: ENQUEUE
      grace_period_seconds: 86400 # 24 hours、本当はもっと長くしたいが上限がこれなので仕方なく
    work_pool:
      name: default-agent-pool
